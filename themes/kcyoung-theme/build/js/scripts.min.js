window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)},jQuery(document).ready(function(){function e(){r=o.offset().top}function a(){var e=jQuery(document).scrollTop();e>=r?t.hasClass(i)||t.addClass(i):t.hasClass(i)&&t.removeClass(i)}var r,n,t=jQuery("body"),o=jQuery("#scroll-target"),i="sticky";e(),jQuery(window).on("scroll",function(){requestAnimationFrame(a)}),jQuery(window).on("resize",function(){clearTimeout(n),n=setTimeout(function(){t.removeClass(i),e(),a()},50)});var s=jQuery(window);jQuery('div[data-type="background"]').each(function(){var e=jQuery(this);jQuery(window).scroll(function(){var a=-(s.scrollTop()/e.data("speed")),r="50% "+a+"px";e.css({"background-position":r})})}),jQuery("nav li a").click(function(e){e.preventDefault(),jQuery("html,body").scrollTo(this.hash,this.hash)});for(var u=jQuery("nav li").children(),l=[],c=0;c<u.length;c++){var d=u[c],v=jQuery(d).attr("href");l.push(v)}jQuery(window).scroll(function(){for(var e=jQuery(window).scrollTop(),a=jQuery(window).height(),r=jQuery(document).height(),n=0;n<l.length;n++){var t=l[n],o=jQuery(t).offset().top,i=jQuery(t).height();e>=o&&o+i>e?jQuery("a[href='"+t+"']").addClass("nav-active"):jQuery("a[href='"+t+"']").removeClass("nav-active")}if(e+a==r&&!jQuery("nav li:last-child a").hasClass("nav-active")){var s=jQuery(".nav-active").attr("href");jQuery("a[href='"+s+"']").removeClass("nav-active"),jQuery("nav li:last-child a").addClass("nav-active")}})});